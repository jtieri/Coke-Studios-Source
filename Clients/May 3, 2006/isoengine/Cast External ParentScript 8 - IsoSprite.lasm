property bDebug, oPoint, sImage, sID, sMember, sType, oSprite, oViewPoint, oViewPointOverride, iLayer, oSquare, iDepth, iSpeed, oTargetSquare, bMoving, aPath, iPathIndex, bLoaded, iScale, oPointDir, oRegistrationPoint, aDirections, aDir, iHeightOffset, iAnimTimer, UP_RIGHT, right, DOWN_RIGHT, down, DOWN_LEFT, left, UP_LEFT, up, iTimeDelta, oLastLoc, iFPS
global oIsoScene

on new me, _sId, _sMember
  [  0] getparam 0 .............................. <me>
  [  2] pushzero ................................ <0>
  [  3] setobjprop 338 .......................... me.bDebug = 0
  [  6] getparam 0 .............................. <me>
  [  8] pushcons 0 .............................. <"new Sprite()">
  [ 10] getparam 1 .............................. <_sId>
  [ 12] joinstr ................................. <"new Sprite()" & _sId>
  [ 13] pusharglistnoret 2 ...................... <me, "new Sprite()" & _sId>
  [ 15] objcall 332 ............................. me.debug("new Sprite()" & _sId)
  [ 18] getparam 0 .............................. <me>
  [ 20] pushint8 1 .............................. <1>
  [ 22] setobjprop 866 .......................... me.bLoaded = 1
  [ 25] getparam 0 .............................. <me>
  [ 27] pushint8 100 ............................ <100>
  [ 29] setobjprop 867 .......................... me.iScale = 100
  [ 32] getparam 0 .............................. <me>
  [ 34] pushzero ................................ <0>
  [ 35] pushzero ................................ <0>
  [ 36] pusharglist 2 ........................... <0, 0>
  [ 38] extcall 39 .............................. <point(0, 0)>
  [ 40] setobjprop 868 .......................... me.oRegistrationPoint = point(0, 0)
  [ 43] getparam 0 .............................. <me>
  [ 45] pushzero ................................ <0>
  [ 46] pushzero ................................ <0>
  [ 47] pushzero ................................ <0>
  [ 48] pusharglist 3 ........................... <0, 0, 0>
  [ 50] extcall 544 ............................. <vector(0, 0, 0)>
  [ 53] setobjprop 721 .......................... me.oPoint = vector(0, 0, 0)
  [ 56] getparam 0 .............................. <me>
  [ 58] getparam 1 .............................. <_sId>
  [ 60] setobjprop 195 .......................... me.sID = _sId
  [ 62] getparam 0 .............................. <me>
  [ 64] getparam 2 .............................. <_sMember>
  [ 66] setobjprop 869 .......................... me.sMember = _sMember
  [ 69] getparam 0 .............................. <me>
  [ 71] pushzero ................................ <0>
  [ 72] pushzero ................................ <0>
  [ 73] pusharglist 2 ........................... <0, 0>
  [ 75] extcall 39 .............................. <point(0, 0)>
  [ 77] setobjprop 545 .......................... me.oViewPoint = point(0, 0)
  [ 80] getparam 0 .............................. <me>
  [ 82] getglobal 133 ........................... <oIsoScene>
  [ 84] getchainedprop 339 ...................... <oIsoScene.oIsoConstants>
  [ 87] getobjprop 597 .......................... <oIsoScene.oIsoConstants.DEFAULT_LAYER>
  [ 90] setobjprop 801 .......................... me.iLayer = oIsoScene.oIsoConstants.DEFAULT_LAYER
  [ 93] getparam 0 .............................. <me>
  [ 95] pusharglist 0 ........................... <>
  [ 97] extcall 238 ............................. <VOID>
  [ 99] setobjprop 478 .......................... me.oSquare = VOID
  [102] getparam 0 .............................. <me>
  [104] pushzero ................................ <0>
  [105] setobjprop 703 .......................... me.iDepth = 0
  [108] getparam 0 .............................. <me>
  [110] pushint8 5 .............................. <5>
  [112] setobjprop 870 .......................... me.iSpeed = 5
  [115] getparam 0 .............................. <me>
  [117] pusharglist 0 ........................... <>
  [119] extcall 238 ............................. <VOID>
  [121] setobjprop 483 .......................... me.oTargetSquare = VOID
  [124] getparam 0 .............................. <me>
  [126] pushzero ................................ <0>
  [127] setobjprop 871 .......................... me.bMoving = 0
  [130] getparam 0 .............................. <me>
  [132] pusharglist 0 ........................... <[]>
  [134] pushlist ................................ <[]>
  [135] setobjprop 872 .......................... me.aPath = []
  [138] getparam 0 .............................. <me>
  [140] pushzero ................................ <0>
  [141] setobjprop 873 .......................... me.iPathIndex = 0
  [144] getparam 0 .............................. <me>
  [146] pushcons 1 .............................. <"Default">
  [148] setobjprop 507 .......................... me.sType = "Default"
  [151] getparam 0 .............................. <me>
  [153] getparam 0 .............................. <me>
  [155] getparam 0 .............................. <me>
  [157] getobjprop 869 .......................... <me.sMember>
  [160] pusharglist 2 ........................... <me, me.sMember>
  [162] objcall 649 ............................. <me.createSprite(me.sMember)>
  [165] setobjprop 705 .......................... me.oSprite = me.createSprite(me.sMember)
  [168] getparam 0 .............................. <me>
  [170] pusharglistnoret 1 ...................... <me>
  [172] objcall 843 ............................. me.initDirections()
  [175] getparam 0 .............................. <me>
  [177] getparam 0 .............................. <me>
  [179] getobjprop 874 .......................... <me.UP_RIGHT>
  [182] setobjprop 875 .......................... me.aDir = me.UP_RIGHT
  [185] getparam 0 .............................. <me>
  [187] pushzero ................................ <0>
  [188] setobjprop 876 .......................... me.iTimeDelta = 0
  [191] getparam 0 .............................. <me>
  [193] pushzero ................................ <0>
  [194] setobjprop 511 .......................... me.iHeightOffset = 0
  [197] getparam 0 .............................. <me>
  [199] getglobal 133 ........................... <oIsoScene>
  [201] getobjprop 365 .......................... <oIsoScene.iFPS>
  [204] setobjprop 365 .......................... me.iFPS = oIsoScene.iFPS
  [207] getparam 0 .............................. <me>
  [209] pusharglistnoret 1 ...................... <me>
  [211] extcall 52 .............................. return me
  [213] ret
end

on getId me
  [  0] getparam 0 .............................. <me>
  [  2] getobjprop 195 .......................... <me.sID>
  [  4] pusharglistnoret 1 ...................... <me.sID>
  [  6] extcall 52 .............................. return me.sID
  [  8] ret
end

on setDir me, iX, iY
  [  0] getparam 0 .............................. <me>
  [  2] getparam 1 .............................. <iX>
  [  4] getparam 2 .............................. <iY>
  [  6] pusharglist 2 ........................... <[iX, iY]>
  [  8] pushlist ................................ <[iX, iY]>
  [  9] setobjprop 875 .......................... me.aDir = [iX, iY]
  [ 12] ret
end

on getSquare me
  [  0] getparam 0 .............................. <me>
  [  2] getobjprop 478 .......................... <me.oSquare>
  [  5] pusharglistnoret 1 ...................... <me.oSquare>
  [  7] extcall 52 .............................. return me.oSquare
  [  9] ret
end

on initDirections me
  [  0] getparam 0 .............................. <me>
  [  2] pushzero ................................ <0>
  [  3] pushint8 1 .............................. <1>
  [  5] pusharglist 2 ........................... <[0, 1]>
  [  7] pushlist ................................ <[0, 1]>
  [  8] setobjprop 874 .......................... me.UP_RIGHT = [0, 1]
  [ 11] getparam 0 .............................. <me>
  [ 13] pushint8 1 .............................. <1>
  [ 15] pushint8 1 .............................. <1>
  [ 17] pusharglist 2 ........................... <[1, 1]>
  [ 19] pushlist ................................ <[1, 1]>
  [ 20] setobjprop 189 .......................... me.right = [1, 1]
  [ 22] getparam 0 .............................. <me>
  [ 24] pushint8 1 .............................. <1>
  [ 26] pushzero ................................ <0>
  [ 27] pusharglist 2 ........................... <[1, 0]>
  [ 29] pushlist ................................ <[1, 0]>
  [ 30] setobjprop 879 .......................... me.DOWN_RIGHT = [1, 0]
  [ 33] getparam 0 .............................. <me>
  [ 35] pushint8 1 .............................. <1>
  [ 37] pushint8 1 .............................. <1>
  [ 39] inv ..................................... <-1>
  [ 40] pusharglist 2 ........................... <[1, -1]>
  [ 42] pushlist ................................ <[1, -1]>
  [ 43] setobjprop 880 .......................... me.down = [1, -1]
  [ 46] getparam 0 .............................. <me>
  [ 48] pushzero ................................ <0>
  [ 49] pushint8 1 .............................. <1>
  [ 51] inv ..................................... <-1>
  [ 52] pusharglist 2 ........................... <[0, -1]>
  [ 54] pushlist ................................ <[0, -1]>
  [ 55] setobjprop 881 .......................... me.DOWN_LEFT = [0, -1]
  [ 58] getparam 0 .............................. <me>
  [ 60] pushint8 1 .............................. <1>
  [ 62] inv ..................................... <-1>
  [ 63] pushint8 1 .............................. <1>
  [ 65] inv ..................................... <-1>
  [ 66] pusharglist 2 ........................... <[-1, -1]>
  [ 68] pushlist ................................ <[-1, -1]>
  [ 69] setobjprop 43 ........................... me.left = [-1, -1]
  [ 71] getparam 0 .............................. <me>
  [ 73] pushint8 1 .............................. <1>
  [ 75] inv ..................................... <-1>
  [ 76] pushzero ................................ <0>
  [ 77] pusharglist 2 ........................... <[-1, 0]>
  [ 79] pushlist ................................ <[-1, 0]>
  [ 80] setobjprop 882 .......................... me.UP_LEFT = [-1, 0]
  [ 83] getparam 0 .............................. <me>
  [ 85] pushint8 1 .............................. <1>
  [ 87] inv ..................................... <-1>
  [ 88] pushint8 1 .............................. <1>
  [ 90] pusharglist 2 ........................... <[-1, 1]>
  [ 92] pushlist ................................ <[-1, 1]>
  [ 93] setobjprop 883 .......................... me.up = [-1, 1]
  [ 96] getparam 0 .............................. <me>
  [ 98] pusharglist 0 ........................... <[]>
  [100] pushlist ................................ <[]>
  [101] setobjprop 884 .......................... me.aDirections = []
  [104] getparam 0 .............................. <me>
  [106] getchainedprop 884 ...................... <me.aDirections>
  [109] getparam 0 .............................. <me>
  [111] getobjprop 874 .......................... <me.UP_RIGHT>
  [114] pusharglistnoret 2 ...................... <me.aDirections, me.UP_RIGHT>
  [116] objcall 140 ............................. me.aDirections.add(me.UP_RIGHT)
  [118] getparam 0 .............................. <me>
  [120] getchainedprop 884 ...................... <me.aDirections>
  [123] getparam 0 .............................. <me>
  [125] getobjprop 189 .......................... <me.right>
  [127] pusharglistnoret 2 ...................... <me.aDirections, me.right>
  [129] objcall 140 ............................. me.aDirections.add(me.right)
  [131] getparam 0 .............................. <me>
  [133] getchainedprop 884 ...................... <me.aDirections>
  [136] getparam 0 .............................. <me>
  [138] getobjprop 879 .......................... <me.DOWN_RIGHT>
  [141] pusharglistnoret 2 ...................... <me.aDirections, me.DOWN_RIGHT>
  [143] objcall 140 ............................. me.aDirections.add(me.DOWN_RIGHT)
  [145] getparam 0 .............................. <me>
  [147] getchainedprop 884 ...................... <me.aDirections>
  [150] getparam 0 .............................. <me>
  [152] getobjprop 880 .......................... <me.down>
  [155] pusharglistnoret 2 ...................... <me.aDirections, me.down>
  [157] objcall 140 ............................. me.aDirections.add(me.down)
  [159] getparam 0 .............................. <me>
  [161] getchainedprop 884 ...................... <me.aDirections>
  [164] getparam 0 .............................. <me>
  [166] getobjprop 881 .......................... <me.DOWN_LEFT>
  [169] pusharglistnoret 2 ...................... <me.aDirections, me.DOWN_LEFT>
  [171] objcall 140 ............................. me.aDirections.add(me.DOWN_LEFT)
  [173] getparam 0 .............................. <me>
  [175] getchainedprop 884 ...................... <me.aDirections>
  [178] getparam 0 .............................. <me>
  [180] getobjprop 43 ........................... <me.left>
  [182] pusharglistnoret 2 ...................... <me.aDirections, me.left>
  [184] objcall 140 ............................. me.aDirections.add(me.left)
  [186] getparam 0 .............................. <me>
  [188] getchainedprop 884 ...................... <me.aDirections>
  [191] getparam 0 .............................. <me>
  [193] getobjprop 882 .......................... <me.UP_LEFT>
  [196] pusharglistnoret 2 ...................... <me.aDirections, me.UP_LEFT>
  [198] objcall 140 ............................. me.aDirections.add(me.UP_LEFT)
  [200] getparam 0 .............................. <me>
  [202] getchainedprop 884 ...................... <me.aDirections>
  [205] getparam 0 .............................. <me>
  [207] getobjprop 883 .......................... <me.up>
  [210] pusharglistnoret 2 ...................... <me.aDirections, me.up>
  [212] objcall 140 ............................. me.aDirections.add(me.up)
  [214] ret
end

on createSprite me, _sMember
  [  0] getglobal 133 ........................... <oIsoScene>
  [  2] getchainedprop 134 ...................... <oIsoScene.oSpriteManager>
  [  4] pusharglist 1 ........................... <oIsoScene.oSpriteManager>
  [  6] objcall 688 ............................. <oIsoScene.oSpriteManager.getPooledSprite()>
  [  9] pusharglist 1 ........................... <oIsoScene.oSpriteManager.getPooledSprite()>
  [ 11] extcall 119 ............................. <sprite(oIsoScene.oSpriteManager.getPooledSprite())>
  [ 13] setlocal 0 .............................. _oSprite = sprite(oIsoScene.oSpriteManager.getPooledSprite())
  [ 15] getlocal 0 .............................. <_oSprite>
  [ 17] getparam 1 .............................. <_sMember>
  [ 19] pusharglist 1 ........................... <_sMember>
  [ 21] extcall 30 .............................. <member(_sMember)>
  [ 23] setobjprop 30 ........................... _oSprite.member = member(_sMember)
  [ 25] getlocal 0 .............................. <_oSprite>
  [ 27] pushzero ................................ <0>
  [ 28] setobjprop 32 ........................... _oSprite.backColor = 0
  [ 30] getlocal 0 .............................. <_oSprite>
  [ 32] pushint8 36 ............................. <36>
  [ 34] setobjprop 37 ........................... _oSprite.ink = 36
  [ 36] getlocal 0 .............................. <_oSprite>
  [ 38] pushzero ................................ <0>
  [ 39] setobjprop 885 .......................... _oSprite.trails = 0
  [ 42] getlocal 0 .............................. <_oSprite>
  [ 44] pushzero ................................ <0>
  [ 45] setobjprop 695 .......................... _oSprite.visible = 0
  [ 48] getlocal 0 .............................. <_oSprite>
  [ 50] pusharglistnoret 1 ...................... <_oSprite>
  [ 52] extcall 52 .............................. return _oSprite
  [ 54] ret
end

on setViewPointOverride me, Op
  [  0] getparam 0 .............................. <me>
  [  2] getparam 1 .............................. <Op>
  [  4] setobjprop 886 .......................... me.oViewPointOverride = Op
  [  7] ret
end

on findPath me, oEndSquare
  [  0] getparam 0 .............................. <me>
  [  2] pushcons 2 .............................. <"findPath() ">
  [  4] pusharglistnoret 2 ...................... <me, "findPath() ">
  [  6] objcall 332 ............................. me.debug("findPath() ")
  [  9] getparam 0 .............................. <me>
  [ 11] pusharglistnoret 1 ...................... <me>
  [ 13] objcall 862 ............................. me.doCalc()
  [ 16] getparam 0 .............................. <me>
  [ 18] getobjprop 478 .......................... <me.oSquare>
  [ 21] setlocal 0 .............................. oStartSquare = me.oSquare
  [ 23] getglobal 133 ........................... <oIsoScene>
  [ 25] getchainedprop 390 ...................... <oIsoScene.oMap>
  [ 28] getlocal 0 .............................. <oStartSquare>
  [ 30] getobjprop 431 .......................... <oStartSquare.iRow>
  [ 33] getlocal 0 .............................. <oStartSquare>
  [ 35] getobjprop 432 .......................... <oStartSquare.iCol>
  [ 38] pusharglist 3 ........................... <oIsoScene.oMap, oStartSquare.iRow, oStartSquare.iCol>
  [ 40] objcall 433 ............................. <oIsoScene.oMap.getNode(oStartSquare.iRow, oStartSquare.iCol)>
  [ 43] setlocal 1 .............................. oN1 = oIsoScene.oMap.getNode(oStartSquare.iRow, oStartSquare.iCol)
  [ 45] getglobal 133 ........................... <oIsoScene>
  [ 47] getchainedprop 390 ...................... <oIsoScene.oMap>
  [ 50] getparam 1 .............................. <oEndSquare>
  [ 52] getobjprop 431 .......................... <oEndSquare.iRow>
  [ 55] getparam 1 .............................. <oEndSquare>
  [ 57] getobjprop 432 .......................... <oEndSquare.iCol>
  [ 60] pusharglist 3 ........................... <oIsoScene.oMap, oEndSquare.iRow, oEndSquare.iCol>
  [ 62] objcall 433 ............................. <oIsoScene.oMap.getNode(oEndSquare.iRow, oEndSquare.iCol)>
  [ 65] setlocal 2 .............................. oN2 = oIsoScene.oMap.getNode(oEndSquare.iRow, oEndSquare.iCol)
  [ 67] getglobal 133 ........................... <oIsoScene>
  [ 69] getchainedprop 390 ...................... <oIsoScene.oMap>
  [ 72] getchainedprop 435 ...................... <oIsoScene.oMap.oPathfinder>
  [ 75] getlocal 1 .............................. <oN1>
  [ 77] getlocal 2 .............................. <oN2>
  [ 79] pusharglist 3 ........................... <oIsoScene.oMap.oPathfinder, oN1, oN2>
  [ 81] objcall 845 ............................. <oIsoScene.oMap.oPathfinder.findPath(oN1, oN2)>
  [ 84] setlocal 3 .............................. _aPath = oIsoScene.oMap.oPathfinder.findPath(oN1, oN2)
  [ 86] getlocal 3 .............................. <_aPath>
  [ 88] pusharglist 0 ........................... <>
  [ 90] extcall 238 ............................. <VOID>
  [ 92] eq ...................................... <_aPath = VOID>
  [ 93] jmpifz [100] ............................ if _aPath = VOID then
  [ 96] pusharglistnoret 0 ...................... <>
  [ 98] extcall 52 .............................. return 
  [100] getlocal 3 .............................. <_aPath>
  [102] getobjprop 155 .......................... <_aPath.count>
  [104] pushint8 2 .............................. <2>
  [106] lt ...................................... <_aPath.count < 2>
  [107] jmpifz [123] ............................ if _aPath.count < 2 then
  [110] getparam 0 .............................. <me>
  [112] pushcons 3 .............................. <"findPath() < 2: returning">
  [114] pusharglistnoret 2 ...................... <me, "findPath() < 2: returning">
  [116] objcall 332 ............................. me.debug("findPath() < 2: returning")
  [119] pusharglistnoret 0 ...................... <>
  [121] extcall 52 .............................. return 
  [123] getlocal 3 .............................. <_aPath>
  [125] pushint8 1 .............................. <1>
  [127] pusharglistnoret 2 ...................... <_aPath, 1>
  [129] objcall 820 ............................. _aPath.deleteAt(1)
  [132] getparam 0 .............................. <me>
  [134] getlocal 3 .............................. <_aPath>
  [136] pusharglistnoret 2 ...................... <me, _aPath>
  [138] objcall 887 ............................. me.animateAlongPath(_aPath)
  [141] ret
end

on reverseList me, _aPath
  [  0] getparam 1 .............................. <_aPath>
  [  2] getobjprop 155 .......................... <_aPath.count>
  [  4] setlocal 0 .............................. iLength = _aPath.count
  [  6] pusharglist 0 ........................... <[]>
  [  8] pushlist ................................ <[]>
  [  9] setlocal 1 .............................. aR = []
  [ 11] getlocal 0 .............................. <iLength>
  [ 13] setlocal 2
  [ 15] getlocal 2
  [ 17] pushint8 1 .............................. <1>
  [ 19] gteq
  [ 20] jmpifz [ 47] ............................ repeat with i = iLength down to 1
  [ 23] getlocal 1 .............................. <aR>
  [ 25] getparam 1 .............................. <_aPath>
  [ 27] getlocal 2 .............................. <i>
  [ 29] pusharglist 2 ........................... <_aPath, i>
  [ 31] objcall 72 .............................. <_aPath[i]>
  [ 33] pusharglistnoret 2 ...................... <aR, _aPath[i]>
  [ 35] objcall 627 ............................. aR.append(_aPath[i])
  [ 38] pushint8 -1
  [ 40] getlocal 2
  [ 42] add
  [ 43] setlocal 2
  [ 45] endrepeat [ 15]
  [ 47] getlocal 1 .............................. <aR>
  [ 49] pusharglistnoret 1 ...................... <aR>
  [ 51] extcall 52 .............................. return aR
  [ 53] ret
end

on addToPath me, _oSquare, bStop
  [  0] getparam 1 .............................. <_oSquare>
  [  2] getobjprop 432 .......................... <_oSquare.iCol>
  [  5] getparam 1 .............................. <_oSquare>
  [  7] getobjprop 431 .......................... <_oSquare.iRow>
  [ 10] pusharglist 2 ........................... <_oSquare.iCol, _oSquare.iRow>
  [ 12] extcall 39 .............................. <point(_oSquare.iCol, _oSquare.iRow)>
  [ 14] setlocal 0 .............................. _oPoint = point(_oSquare.iCol, _oSquare.iRow)
  [ 16] getparam 0 .............................. <me>
  [ 18] getchainedprop 872 ...................... <me.aPath>
  [ 21] getlocal 0 .............................. <_oPoint>
  [ 23] pusharglistnoret 2 ...................... <me.aPath, _oPoint>
  [ 25] objcall 140 ............................. me.aPath.add(_oPoint)
  [ 27] getparam 2 .............................. <bStop>
  [ 29] pusharglist 1 ........................... <bStop>
  [ 31] extcall 59 .............................. <voidp(bStop)>
  [ 33] not ..................................... <not voidp(bStop)>
  [ 34] jmpifz [ 54] ............................ if not voidp(bStop) then
  [ 37] getparam 2 .............................. <bStop>
  [ 39] pushzero ................................ <0>
  [ 40] eq ...................................... <bStop = 0>
  [ 41] jmpifz [ 54] ............................ if bStop = 0 then
  [ 44] getparam 0 .............................. <me>
  [ 46] getchainedprop 872 ...................... <me.aPath>
  [ 49] pushzero ................................ <0>
  [ 50] pusharglistnoret 2 ...................... <me.aPath, 0>
  [ 52] objcall 140 ............................. me.aPath.add(0)
  [ 54] getparam 0 .............................. <me>
  [ 56] getobjprop 871 .......................... <me.bMoving>
  [ 59] not ..................................... <not me.bMoving>
  [ 60] jmpifz [ 70] ............................ if not me.bMoving then
  [ 63] getparam 0 .............................. <me>
  [ 65] pusharglistnoret 1 ...................... <me>
  [ 67] objcall 848 ............................. me.nextPath()
  [ 70] ret
end

on nextPath me
  [  0] getparam 0 .............................. <me>
  [  2] getobjprop 894 .......................... <me.iAnimTimer>
  [  5] pusharglist 1 ........................... <me.iAnimTimer>
  [  7] extcall 59 .............................. <voidp(me.iAnimTimer)>
  [  9] jmpifz [ 20] ............................ if voidp(me.iAnimTimer) then
  [ 12] getparam 0 .............................. <me>
  [ 14] getmovieprop 369 ........................ <the milliSeconds>
  [ 17] setobjprop 894 .......................... me.iAnimTimer = the milliSeconds
  [ 20] getmovieprop 369 ........................ <the milliSeconds>
  [ 23] getparam 0 .............................. <me>
  [ 25] getobjprop 894 .......................... <me.iAnimTimer>
  [ 28] sub ..................................... <the milliSeconds - me.iAnimTimer>
  [ 29] setlocal 0 .............................. iElapsedTime = the milliSeconds - me.iAnimTimer
  [ 31] getparam 0 .............................. <me>
  [ 33] getmovieprop 369 ........................ <the milliSeconds>
  [ 36] setobjprop 894 .......................... me.iAnimTimer = the milliSeconds
  [ 39] getparam 0 .............................. <me>
  [ 41] getobjprop 872 .......................... <me.aPath>
  [ 44] pusharglist 1 ........................... <me.aPath>
  [ 46] objcall 155 ............................. <me.aPath.count()>
  [ 48] pushzero ................................ <0>
  [ 49] eq ...................................... <me.aPath.count() = 0>
  [ 50] jmpifz [ 64] ............................ if me.aPath.count() = 0 then
  [ 53] getparam 0 .............................. <me>
  [ 55] pusharglistnoret 1 ...................... <me>
  [ 57] objcall 850 ............................. me.stopPathAnimation()
  [ 60] pusharglistnoret 0 ...................... <>
  [ 62] extcall 52 .............................. return 
  [ 64] getparam 0 .............................. <me>
  [ 66] pushsymb 872 ............................ <#aPath>
  [ 69] pushint8 1 .............................. <1>
  [ 71] pusharglist 3 ........................... <me, #aPath, 1>
  [ 73] objcall 104 ............................. <me.aPath[1]>
  [ 75] setlocal 1 .............................. _oPoint = me.aPath[1]
  [ 77] getparam 0 .............................. <me>
  [ 79] getchainedprop 872 ...................... <me.aPath>
  [ 82] pushint8 1 .............................. <1>
  [ 84] pusharglistnoret 2 ...................... <me.aPath, 1>
  [ 86] objcall 820 ............................. me.aPath.deleteAt(1)
  [ 89] getlocal 1 .............................. <_oPoint>
  [ 91] pushzero ................................ <0>
  [ 92] eq ...................................... <_oPoint = 0>
  [ 93] jmpifz [107] ............................ if _oPoint = 0 then
  [ 96] getparam 0 .............................. <me>
  [ 98] pusharglistnoret 1 ...................... <me>
  [100] objcall 848 ............................. me.nextPath()
  [103] pusharglistnoret 0 ...................... <>
  [105] extcall 52 .............................. return 
  [107] getglobal 133 ........................... <oIsoScene>
  [109] getchainedprop 136 ...................... <oIsoScene.oGrid>
  [111] getlocal 1 .............................. <_oPoint>
  [113] getobjprop 122 .......................... <_oPoint.locV>
  [115] getlocal 1 .............................. <_oPoint>
  [117] getobjprop 143 .......................... <_oPoint.locH>
  [119] pusharglist 3 ........................... <oIsoScene.oGrid, _oPoint.locV, _oPoint.locH>
  [121] objcall 532 ............................. <oIsoScene.oGrid.getSquareByRowCol(_oPoint.locV, _oPoint.locH)>
  [124] setlocal 2 .............................. _oSquare = oIsoScene.oGrid.getSquareByRowCol(_oPoint.locV, _oPoint.locH)
  [126] getparam 0 .............................. <me>
  [128] getlocal 2 .............................. <_oSquare>
  [130] pusharglistnoret 2 ...................... <me, _oSquare>
  [132] objcall 855 ............................. me.animateToSquare(_oSquare)
  [135] ret
end

on addStopToPath me
  [  0] getparam 0 .............................. <me>
  [  2] pushcons 4 .............................. <"addStopToPath()">
  [  4] pushint8 1 .............................. <1>
  [  6] pusharglistnoret 3 ...................... <me, "addStopToPath()", 1>
  [  8] objcall 332 ............................. me.debug("addStopToPath()", 1)
  [ 11] ret
end

on stopPathAnimation me
  [  0] getparam 0 .............................. <me>
  [  2] pushcons 5 .............................. <"stopPathAnimation()">
  [  4] pusharglistnoret 2 ...................... <me, "stopPathAnimation()">
  [  6] objcall 332 ............................. me.debug("stopPathAnimation()")
  [  9] getparam 0 .............................. <me>
  [ 11] getobjprop 871 .......................... <me.bMoving>
  [ 14] not ..................................... <not me.bMoving>
  [ 15] jmpifz [ 22] ............................ if not me.bMoving then
  [ 18] pusharglistnoret 0 ...................... <>
  [ 20] extcall 52 .............................. return 
  [ 22] getparam 0 .............................. <me>
  [ 24] pusharglist 0 ........................... <[]>
  [ 26] pushlist ................................ <[]>
  [ 27] setobjprop 872 .......................... me.aPath = []
  [ 30] getparam 0 .............................. <me>
  [ 32] pushzero ................................ <0>
  [ 33] setobjprop 871 .......................... me.bMoving = 0
  [ 36] ret
end

on clearPath me
  [  0] getparam 0 .............................. <me>
  [  2] pushcons 6 .............................. <"clearPath()">
  [  4] pushint8 1 .............................. <1>
  [  6] pusharglistnoret 3 ...................... <me, "clearPath()", 1>
  [  8] objcall 332 ............................. me.debug("clearPath()", 1)
  [ 11] getparam 0 .............................. <me>
  [ 13] pusharglist 0 ........................... <[]>
  [ 15] pushlist ................................ <[]>
  [ 16] setobjprop 872 .......................... me.aPath = []
  [ 19] getparam 0 .............................. <me>
  [ 21] pushzero ................................ <0>
  [ 22] setobjprop 871 .......................... me.bMoving = 0
  [ 25] ret
end

on animateToRandomSquare me
  [  0] getparam 0 .............................. <me>
  [  2] pushcons 7 .............................. <"animateToRandomSquare()">
  [  4] pusharglistnoret 2 ...................... <me, "animateToRandomSquare()">
  [  6] objcall 332 ............................. me.debug("animateToRandomSquare()")
  [  9] getglobal 133 ........................... <oIsoScene>
  [ 11] getchainedprop 136 ...................... <oIsoScene.oGrid>
  [ 13] pusharglist 1 ........................... <oIsoScene.oGrid>
  [ 15] objcall 651 ............................. <oIsoScene.oGrid.getRandomSquare()>
  [ 18] setlocal 0 .............................. _oSquare = oIsoScene.oGrid.getRandomSquare()
  [ 20] getparam 0 .............................. <me>
  [ 22] getlocal 0 .............................. <_oSquare>
  [ 24] pusharglistnoret 2 ...................... <me, _oSquare>
  [ 26] objcall 855 ............................. me.animateToSquare(_oSquare)
  [ 29] ret
end

on getFPS me
  [  0] getparam 0 .............................. <me>
  [  2] getobjprop 365 .......................... <me.iFPS>
  [  5] pusharglistnoret 1 ...................... <me.iFPS>
  [  7] extcall 52 .............................. return me.iFPS
  [  9] ret
end

on setFPS me, _iFPS
  [  0] getparam 0 .............................. <me>
  [  2] getparam 1 .............................. <_iFPS>
  [  4] setobjprop 365 .......................... me.iFPS = _iFPS
  [  7] ret
end

on animateToSquare me, oTarget
  [  0] getparam 0 .............................. <me>
  [  2] getobjprop 478 .......................... <me.oSquare>
  [  5] pusharglist 1 ........................... <me.oSquare>
  [  7] extcall 59 .............................. <voidp(me.oSquare)>
  [  9] jmpifz [ 49] ............................ if voidp(me.oSquare) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 8 .............................. <"me.oSquare = void">
  [ 16] pushint8 1 .............................. <1>
  [ 18] pusharglistnoret 3 ...................... <me, "me.oSquare = void", 1>
  [ 20] objcall 332 ............................. me.debug("me.oSquare = void", 1)
  [ 23] getparam 0 .............................. <me>
  [ 25] getparam 1 .............................. <oTarget>
  [ 27] pusharglist 1 ........................... <oTarget>
  [ 29] objcall 766 ............................. <oTarget.calcGridCenter()>
  [ 32] pusharglistnoret 2 ...................... <me, oTarget.calcGridCenter()>
  [ 34] objcall 860 ............................. me.moveToGridPoint(oTarget.calcGridCenter())
  [ 37] getparam 0 .............................. <me>
  [ 39] pusharglistnoret 1 ...................... <me>
  [ 41] objcall 850 ............................. me.stopPathAnimation()
  [ 44] pushzero ................................ <0>
  [ 45] pusharglistnoret 1 ...................... <0>
  [ 47] extcall 52 .............................. return 0
  [ 49] getparam 1 .............................. <oTarget>
  [ 51] getparam 0 .............................. <me>
  [ 53] getobjprop 478 .......................... <me.oSquare>
  [ 56] pusharglist 2 ........................... <oTarget, me.oSquare>
  [ 58] objcall 254 ............................. <oTarget.equals(me.oSquare)>
  [ 60] not ..................................... <not oTarget.equals(me.oSquare)>
  [ 61] jmpifz [327] ............................ if not oTarget.equals(me.oSquare) then / else
  [ 64] getparam 0 .............................. <me>
  [ 66] getchainedprop 478 ...................... <me.oSquare>
  [ 69] getobjprop 431 .......................... <me.oSquare.iRow>
  [ 72] getparam 1 .............................. <oTarget>
  [ 74] getobjprop 431 .......................... <oTarget.iRow>
  [ 77] sub ..................................... <me.oSquare.iRow - oTarget.iRow>
  [ 78] pusharglist 1 ........................... <me.oSquare.iRow - oTarget.iRow>
  [ 80] extcall 698 ............................. <abs(me.oSquare.iRow - oTarget.iRow)>
  [ 83] setlocal 0 .............................. iRowDelta = abs(me.oSquare.iRow - oTarget.iRow)
  [ 85] getparam 0 .............................. <me>
  [ 87] getchainedprop 478 ...................... <me.oSquare>
  [ 90] getobjprop 432 .......................... <me.oSquare.iCol>
  [ 93] getparam 1 .............................. <oTarget>
  [ 95] getobjprop 432 .......................... <oTarget.iCol>
  [ 98] sub ..................................... <me.oSquare.iCol - oTarget.iCol>
  [ 99] pusharglist 1 ........................... <me.oSquare.iCol - oTarget.iCol>
  [101] extcall 698 ............................. <abs(me.oSquare.iCol - oTarget.iCol)>
  [104] setlocal 1 .............................. iColDelta = abs(me.oSquare.iCol - oTarget.iCol)
  [106] getlocal 0 .............................. <iRowDelta>
  [108] pushint8 2 .............................. <2>
  [110] lteq .................................... <iRowDelta <= 2>
  [111] getlocal 1 .............................. <iColDelta>
  [113] pushint8 2 .............................. <2>
  [115] lteq .................................... <iColDelta <= 2>
  [116] and ..................................... <(iRowDelta <= 2) and (iColDelta <= 2)>
  [117] jmpifz [298] ............................ if (iRowDelta <= 2) and (iColDelta <= 2) then / else
  [120] getparam 0 .............................. <me>
  [122] getparam 1 .............................. <oTarget>
  [124] setobjprop 483 .......................... me.oTargetSquare = oTarget
  [127] getparam 0 .............................. <me>
  [129] pushint8 1 .............................. <1>
  [131] setobjprop 871 .......................... me.bMoving = 1
  [134] getparam 0 .............................. <me>
  [136] getchainedprop 721 ...................... <me.oPoint>
  [139] getobjprop 35 ........................... <me.oPoint.x>
  [141] getparam 0 .............................. <me>
  [143] getchainedprop 721 ...................... <me.oPoint>
  [146] getobjprop 417 .......................... <me.oPoint.z>
  [149] pusharglist 2 ........................... <me.oPoint.x, me.oPoint.z>
  [151] extcall 39 .............................. <point(me.oPoint.x, me.oPoint.z)>
  [153] setlocal 2 .............................. oStartPoint = point(me.oPoint.x, me.oPoint.z)
  [155] getparam 0 .............................. <me>
  [157] getchainedprop 483 ...................... <me.oTargetSquare>
  [160] getchainedprop 796 ...................... <me.oTargetSquare.oGridCenter>
  [163] getobjprop 35 ........................... <me.oTargetSquare.oGridCenter.x>
  [165] getparam 0 .............................. <me>
  [167] getchainedprop 483 ...................... <me.oTargetSquare>
  [170] getchainedprop 796 ...................... <me.oTargetSquare.oGridCenter>
  [173] getobjprop 417 .......................... <me.oTargetSquare.oGridCenter.z>
  [176] pusharglist 2 ........................... <me.oTargetSquare.oGridCenter.x, me.oTargetSquare.oGridCenter.z>
  [178] extcall 39 .............................. <point(me.oTargetSquare.oGridCenter.x, me.oTargetSquare.oGridCenter.z)>
  [180] setlocal 3 .............................. oEndPoint = point(me.oTargetSquare.oGridCenter.x, me.oTargetSquare.oGridCenter.z)
  [182] getglobal 133 ........................... <oIsoScene>
  [184] getchainedprop 340 ...................... <oIsoScene.oMath2d>
  [187] getlocal 2 .............................. <oStartPoint>
  [189] getlocal 3 .............................. <oEndPoint>
  [191] pusharglist 3 ........................... <oIsoScene.oMath2d, oStartPoint, oEndPoint>
  [193] objcall 608 ............................. <oIsoScene.oMath2d.distance(oStartPoint, oEndPoint)>
  [196] setlocal 4 .............................. iDistance = oIsoScene.oMath2d.distance(oStartPoint, oEndPoint)
  [198] pushint16 1000 .......................... <1000>
  [201] getparam 0 .............................. <me>
  [203] getobjprop 365 .......................... <me.iFPS>
  [206] div ..................................... <1000 / me.iFPS>
  [207] setlocal 5 .............................. iFrameInterval = 1000 / me.iFPS
  [209] getglobal 133 ........................... <oIsoScene>
  [211] pusharglist 1 ........................... <oIsoScene>
  [213] objcall 290 ............................. <oIsoScene.getSequenceRate()>
  [216] getparam 0 .............................. <me>
  [218] getobjprop 876 .......................... <me.iTimeDelta>
  [221] sub ..................................... <oIsoScene.getSequenceRate() - me.iTimeDelta>
  [222] getlocal 5 .............................. <iFrameInterval>
  [224] div ..................................... <(oIsoScene.getSequenceRate() - me.iTimeDelta) / iFrameInterval>
  [225] setlocal 6 .............................. iNumFrames = (oIsoScene.getSequenceRate() - me.iTimeDelta) / iFrameInterval
  [227] getparam 0 .............................. <me>
  [229] getlocal 4 .............................. <iDistance>
  [231] getlocal 6 .............................. <iNumFrames>
  [233] div ..................................... <iDistance / iNumFrames>
  [234] setobjprop 870 .......................... me.iSpeed = iDistance / iNumFrames
  [237] getparam 0 .............................. <me>
  [239] pushzero ................................ <0>
  [240] setobjprop 876 .......................... me.iTimeDelta = 0
  [243] getglobal 133 ........................... <oIsoScene>
  [245] getchainedprop 340 ...................... <oIsoScene.oMath2d>
  [248] getlocal 3 .............................. <oEndPoint>
  [250] getlocal 2 .............................. <oStartPoint>
  [252] pusharglist 3 ........................... <oIsoScene.oMath2d, oEndPoint, oStartPoint>
  [254] objcall 603 ............................. <oIsoScene.oMath2d.direction(oEndPoint, oStartPoint)>
  [257] setlocal 7 .............................. oDirection = oIsoScene.oMath2d.direction(oEndPoint, oStartPoint)
  [259] getglobal 133 ........................... <oIsoScene>
  [261] getchainedprop 340 ...................... <oIsoScene.oMath2d>
  [264] getlocal 7 .............................. <oDirection>
  [266] pusharglist 2 ........................... <oIsoScene.oMath2d, oDirection>
  [268] objcall 604 ............................. <oIsoScene.oMath2d.unit(oDirection)>
  [271] setlocal 7 .............................. oDirection = oIsoScene.oMath2d.unit(oDirection)
  [273] getparam 0 .............................. <me>
  [275] getlocal 7 .............................. <oDirection>
  [277] pusharglistnoret 2 ...................... <me, oDirection>
  [279] objcall 857 ............................. me.applyDirection(oDirection)
  [282] getparam 0 .............................. <me>
  [284] pusharglistnoret 1 ...................... <me>
  [286] objcall 856 ............................. me.doFrameEvent()
  [289] pushint8 1 .............................. <1>
  [291] pusharglistnoret 1 ...................... <1>
  [293] extcall 52 .............................. return 1
  [295] jmp [324]
  [298] getparam 0 .............................. <me>
  [300] getparam 1 .............................. <oTarget>
  [302] pusharglist 1 ........................... <oTarget>
  [304] objcall 766 ............................. <oTarget.calcGridCenter()>
  [307] pusharglistnoret 2 ...................... <me, oTarget.calcGridCenter()>
  [309] objcall 860 ............................. me.moveToGridPoint(oTarget.calcGridCenter())
  [312] getparam 0 .............................. <me>
  [314] pusharglistnoret 1 ...................... <me>
  [316] objcall 850 ............................. me.stopPathAnimation()
  [319] pushzero ................................ <0>
  [320] pusharglistnoret 1 ...................... <0>
  [322] extcall 52 .............................. return 0
  [324] jmp [353]
  [327] getparam 0 .............................. <me>
  [329] getparam 1 .............................. <oTarget>
  [331] pusharglist 1 ........................... <oTarget>
  [333] objcall 766 ............................. <oTarget.calcGridCenter()>
  [336] pusharglistnoret 2 ...................... <me, oTarget.calcGridCenter()>
  [338] objcall 860 ............................. me.moveToGridPoint(oTarget.calcGridCenter())
  [341] getparam 0 .............................. <me>
  [343] pusharglistnoret 1 ...................... <me>
  [345] objcall 850 ............................. me.stopPathAnimation()
  [348] pushzero ................................ <0>
  [349] pusharglistnoret 1 ...................... <0>
  [351] extcall 52 .............................. return 0
  [353] ret
end

on doFrameEvent me
  [  0] getparam 0 .............................. <me>
  [  2] getobjprop 871 .......................... <me.bMoving>
  [  5] not ..................................... <not me.bMoving>
  [  6] jmpifz [ 13] ............................ if not me.bMoving then
  [  9] pusharglistnoret 0 ...................... <>
  [ 11] extcall 52 .............................. return 
  [ 13] getparam 0 .............................. <me>
  [ 15] getchainedprop 721 ...................... <me.oPoint>
  [ 18] getobjprop 35 ........................... <me.oPoint.x>
  [ 20] getparam 0 .............................. <me>
  [ 22] getchainedprop 721 ...................... <me.oPoint>
  [ 25] getobjprop 417 .......................... <me.oPoint.z>
  [ 28] pusharglist 2 ........................... <me.oPoint.x, me.oPoint.z>
  [ 30] extcall 39 .............................. <point(me.oPoint.x, me.oPoint.z)>
  [ 32] setlocal 0 .............................. oStartPoint = point(me.oPoint.x, me.oPoint.z)
  [ 34] getparam 0 .............................. <me>
  [ 36] getchainedprop 483 ...................... <me.oTargetSquare>
  [ 39] getchainedprop 796 ...................... <me.oTargetSquare.oGridCenter>
  [ 42] getobjprop 35 ........................... <me.oTargetSquare.oGridCenter.x>
  [ 44] getparam 0 .............................. <me>
  [ 46] getchainedprop 483 ...................... <me.oTargetSquare>
  [ 49] getchainedprop 796 ...................... <me.oTargetSquare.oGridCenter>
  [ 52] getobjprop 417 .......................... <me.oTargetSquare.oGridCenter.z>
  [ 55] pusharglist 2 ........................... <me.oTargetSquare.oGridCenter.x, me.oTargetSquare.oGridCenter.z>
  [ 57] extcall 39 .............................. <point(me.oTargetSquare.oGridCenter.x, me.oTargetSquare.oGridCenter.z)>
  [ 59] setlocal 1 .............................. oEndPoint = point(me.oTargetSquare.oGridCenter.x, me.oTargetSquare.oGridCenter.z)
  [ 61] getlocal 0 .............................. <oStartPoint>
  [ 63] getobjprop 143 .......................... <oStartPoint.locH>
  [ 65] getlocal 1 .............................. <oEndPoint>
  [ 67] getobjprop 143 .......................... <oEndPoint.locH>
  [ 69] eq ...................................... <oStartPoint.locH = oEndPoint.locH>
  [ 70] getlocal 0 .............................. <oStartPoint>
  [ 72] getobjprop 122 .......................... <oStartPoint.locV>
  [ 74] getlocal 1 .............................. <oEndPoint>
  [ 76] getobjprop 122 .......................... <oEndPoint.locV>
  [ 78] eq ...................................... <oStartPoint.locV = oEndPoint.locV>
  [ 79] and ..................................... <(oStartPoint.locH = oEndPoint.locH) and (oStartPoint.locV = oEndPoint.locV)>
  [ 80] jmpifz [105] ............................ if (oStartPoint.locH = oEndPoint.locH) and (oStartPoint.locV = oEndPoint.locV) then
  [ 83] getparam 0 .............................. <me>
  [ 85] pushcons 9 .............................. <"oStartPoint.locH = oEndPoint.locH">
  [ 87] pushint8 1 .............................. <1>
  [ 89] pusharglistnoret 3 ...................... <me, "oStartPoint.locH = oEndPoint.locH", 1>
  [ 91] objcall 332 ............................. me.debug("oStartPoint.locH = oEndPoint.locH", 1)
  [ 94] getparam 0 .............................. <me>
  [ 96] pusharglistnoret 1 ...................... <me>
  [ 98] objcall 848 ............................. me.nextPath()
  [101] pusharglistnoret 0 ...................... <>
  [103] extcall 52 .............................. return 
  [105] getglobal 133 ........................... <oIsoScene>
  [107] getchainedprop 340 ...................... <oIsoScene.oMath2d>
  [110] getlocal 0 .............................. <oStartPoint>
  [112] getlocal 1 .............................. <oEndPoint>
  [114] pusharglist 3 ........................... <oIsoScene.oMath2d, oStartPoint, oEndPoint>
  [116] objcall 608 ............................. <oIsoScene.oMath2d.distance(oStartPoint, oEndPoint)>
  [119] setlocal 2 .............................. iDistance = oIsoScene.oMath2d.distance(oStartPoint, oEndPoint)
  [121] getlocal 2 .............................. <iDistance>
  [123] getparam 0 .............................. <me>
  [125] getobjprop 870 .......................... <me.iSpeed>
  [128] lteq .................................... <iDistance <= me.iSpeed>
  [129] jmpifz [143] ............................ if iDistance <= me.iSpeed then
  [132] getparam 0 .............................. <me>
  [134] pusharglistnoret 1 ...................... <me>
  [136] objcall 848 ............................. me.nextPath()
  [139] pusharglistnoret 0 ...................... <>
  [141] extcall 52 .............................. return 
  [143] getglobal 133 ........................... <oIsoScene>
  [145] getchainedprop 340 ...................... <oIsoScene.oMath2d>
  [148] getlocal 1 .............................. <oEndPoint>
  [150] getlocal 0 .............................. <oStartPoint>
  [152] pusharglist 3 ........................... <oIsoScene.oMath2d, oEndPoint, oStartPoint>
  [154] objcall 603 ............................. <oIsoScene.oMath2d.direction(oEndPoint, oStartPoint)>
  [157] setlocal 3 .............................. oDirection = oIsoScene.oMath2d.direction(oEndPoint, oStartPoint)
  [159] getglobal 133 ........................... <oIsoScene>
  [161] getchainedprop 340 ...................... <oIsoScene.oMath2d>
  [164] getlocal 3 .............................. <oDirection>
  [166] pusharglist 2 ........................... <oIsoScene.oMath2d, oDirection>
  [168] objcall 604 ............................. <oIsoScene.oMath2d.unit(oDirection)>
  [171] setlocal 3 .............................. oDirection = oIsoScene.oMath2d.unit(oDirection)
  [173] getlocal 3 .............................. <oDirection>
  [175] getparam 0 .............................. <me>
  [177] getobjprop 870 .......................... <me.iSpeed>
  [180] pushint8 1 .............................. <1>
  [182] mul ..................................... <me.iSpeed * 1>
  [183] mul ..................................... <oDirection * (me.iSpeed * 1)>
  [184] setlocal 4 .............................. oTranslation = oDirection * (me.iSpeed * 1)
  [186] getparam 0 .............................. <me>
  [188] getlocal 4 .............................. <oTranslation>
  [190] getobjprop 143 .......................... <oTranslation.locH>
  [192] pushzero ................................ <0>
  [193] getlocal 4 .............................. <oTranslation>
  [195] getobjprop 122 .......................... <oTranslation.locV>
  [197] pusharglistnoret 4 ...................... <me, oTranslation.locH, 0, oTranslation.locV>
  [199] objcall 858 ............................. me.move(oTranslation.locH, 0, oTranslation.locV)
  [202] ret
end

on applyDirection me, oDirection
  [  0] ret
end

on move me, iX, iY, iZ
  [  0] getparam 1 .............................. <iX>
  [  2] pusharglist 0 ........................... <>
  [  4] extcall 238 ............................. <VOID>
  [  6] nteq .................................... <iX <> VOID>
  [  7] jmpifz [ 27] ............................ if iX <> VOID then
  [ 10] getparam 0 .............................. <me>
  [ 12] getchainedprop 721 ...................... <me.oPoint>
  [ 15] getparam 0 .............................. <me>
  [ 17] getchainedprop 721 ...................... <me.oPoint>
  [ 20] getobjprop 35 ........................... <me.oPoint.x>
  [ 22] getparam 1 .............................. <iX>
  [ 24] add ..................................... <me.oPoint.x + iX>
  [ 25] setobjprop 35 ........................... me.oPoint.x = me.oPoint.x + iX
  [ 27] getparam 2 .............................. <iY>
  [ 29] pusharglist 0 ........................... <>
  [ 31] extcall 238 ............................. <VOID>
  [ 33] nteq .................................... <iY <> VOID>
  [ 34] jmpifz [ 54] ............................ if iY <> VOID then
  [ 37] getparam 0 .............................. <me>
  [ 39] getchainedprop 721 ...................... <me.oPoint>
  [ 42] getparam 0 .............................. <me>
  [ 44] getchainedprop 721 ...................... <me.oPoint>
  [ 47] getobjprop 36 ........................... <me.oPoint.y>
  [ 49] getparam 2 .............................. <iY>
  [ 51] add ..................................... <me.oPoint.y + iY>
  [ 52] setobjprop 36 ........................... me.oPoint.y = me.oPoint.y + iY
  [ 54] getparam 3 .............................. <iZ>
  [ 56] pusharglist 0 ........................... <>
  [ 58] extcall 238 ............................. <VOID>
  [ 60] nteq .................................... <iZ <> VOID>
  [ 61] jmpifz [ 83] ............................ if iZ <> VOID then
  [ 64] getparam 0 .............................. <me>
  [ 66] getchainedprop 721 ...................... <me.oPoint>
  [ 69] getparam 0 .............................. <me>
  [ 71] getchainedprop 721 ...................... <me.oPoint>
  [ 74] getobjprop 417 .......................... <me.oPoint.z>
  [ 77] getparam 3 .............................. <iZ>
  [ 79] add ..................................... <me.oPoint.z + iZ>
  [ 80] setobjprop 417 .......................... me.oPoint.z = me.oPoint.z + iZ
  [ 83] getparam 0 .............................. <me>
  [ 85] pusharglistnoret 1 ...................... <me>
  [ 87] objcall 862 ............................. me.doCalc()
  [ 90] getparam 0 .............................. <me>
  [ 92] pusharglistnoret 1 ...................... <me>
  [ 94] objcall 3 ............................... me.display()
  [ 96] ret
end

on moveToSquare me, _oSquare
  [  0] getparam 1 .............................. <_oSquare>
  [  2] pusharglist 1 ........................... <_oSquare>
  [  4] extcall 59 .............................. <voidp(_oSquare)>
  [  6] jmpifz [ 13] ............................ if voidp(_oSquare) then
  [  9] pusharglistnoret 0 ...................... <>
  [ 11] extcall 52 .............................. return 
  [ 13] getparam 0 .............................. <me>
  [ 15] getparam 1 .............................. <_oSquare>
  [ 17] getobjprop 796 .......................... <_oSquare.oGridCenter>
  [ 20] pusharglistnoret 2 ...................... <me, _oSquare.oGridCenter>
  [ 22] objcall 860 ............................. me.moveToGridPoint(_oSquare.oGridCenter)
  [ 25] ret
end

on moveTo me, iX, iY, iZ
  [  0] getparam 1 .............................. <iX>
  [  2] pusharglist 0 ........................... <>
  [  4] extcall 238 ............................. <VOID>
  [  6] nteq .................................... <iX <> VOID>
  [  7] jmpifz [ 19] ............................ if iX <> VOID then
  [ 10] getparam 0 .............................. <me>
  [ 12] getchainedprop 721 ...................... <me.oPoint>
  [ 15] getparam 1 .............................. <iX>
  [ 17] setobjprop 35 ........................... me.oPoint.x = iX
  [ 19] getparam 2 .............................. <iY>
  [ 21] pusharglist 0 ........................... <>
  [ 23] extcall 238 ............................. <VOID>
  [ 25] nteq .................................... <iY <> VOID>
  [ 26] jmpifz [ 38] ............................ if iY <> VOID then
  [ 29] getparam 0 .............................. <me>
  [ 31] getchainedprop 721 ...................... <me.oPoint>
  [ 34] getparam 2 .............................. <iY>
  [ 36] setobjprop 36 ........................... me.oPoint.y = iY
  [ 38] getparam 3 .............................. <iZ>
  [ 40] pusharglist 0 ........................... <>
  [ 42] extcall 238 ............................. <VOID>
  [ 44] nteq .................................... <iZ <> VOID>
  [ 45] jmpifz [ 58] ............................ if iZ <> VOID then
  [ 48] getparam 0 .............................. <me>
  [ 50] getchainedprop 721 ...................... <me.oPoint>
  [ 53] getparam 3 .............................. <iZ>
  [ 55] setobjprop 417 .......................... me.oPoint.z = iZ
  [ 58] getparam 0 .............................. <me>
  [ 60] pusharglistnoret 1 ...................... <me>
  [ 62] objcall 862 ............................. me.doCalc()
  [ 65] getparam 0 .............................. <me>
  [ 67] pusharglistnoret 1 ...................... <me>
  [ 69] objcall 3 ............................... me.display()
  [ 71] ret
end

on moveToGridPoint me, oGridPoint
  [  0] getparam 0 .............................. <me>
  [  2] pushcons 10 ............................. <"moveToGridPoint()">
  [  4] pusharglistnoret 2 ...................... <me, "moveToGridPoint()">
  [  6] objcall 332 ............................. me.debug("moveToGridPoint()")
  [  9] getparam 0 .............................. <me>
  [ 11] getchainedprop 721 ...................... <me.oPoint>
  [ 14] getparam 1 .............................. <oGridPoint>
  [ 16] getobjprop 35 ........................... <oGridPoint.x>
  [ 18] setobjprop 35 ........................... me.oPoint.x = oGridPoint.x
  [ 20] getparam 0 .............................. <me>
  [ 22] getchainedprop 721 ...................... <me.oPoint>
  [ 25] getparam 1 .............................. <oGridPoint>
  [ 27] getobjprop 36 ........................... <oGridPoint.y>
  [ 29] setobjprop 36 ........................... me.oPoint.y = oGridPoint.y
  [ 31] getparam 0 .............................. <me>
  [ 33] getchainedprop 721 ...................... <me.oPoint>
  [ 36] getparam 1 .............................. <oGridPoint>
  [ 38] getobjprop 417 .......................... <oGridPoint.z>
  [ 41] setobjprop 417 .......................... me.oPoint.z = oGridPoint.z
  [ 44] getparam 0 .............................. <me>
  [ 46] pusharglistnoret 1 ...................... <me>
  [ 48] objcall 862 ............................. me.doCalc()
  [ 51] getparam 0 .............................. <me>
  [ 53] pusharglistnoret 1 ...................... <me>
  [ 55] objcall 3 ............................... me.display()
  [ 57] ret
end

on moveToRowCol me, iRow, iCol
  [  0] getglobal 133 ........................... <oIsoScene>
  [  2] getchainedprop 136 ...................... <oIsoScene.oGrid>
  [  4] getparam 1 .............................. <iRow>
  [  6] getparam 2 .............................. <iCol>
  [  8] pusharglist 3 ........................... <oIsoScene.oGrid, iRow, iCol>
  [ 10] objcall 532 ............................. <oIsoScene.oGrid.getSquareByRowCol(iRow, iCol)>
  [ 13] setlocal 0 .............................. _oSquare = oIsoScene.oGrid.getSquareByRowCol(iRow, iCol)
  [ 15] getparam 0 .............................. <me>
  [ 17] getlocal 0 .............................. <_oSquare>
  [ 19] pusharglistnoret 2 ...................... <me, _oSquare>
  [ 21] objcall 847 ............................. me.addToPath(_oSquare)
  [ 24] ret
end

on doCalc me
  [  0] getparam 0 .............................. <me>
  [  2] pushcons 11 ............................. <"doCalc()">
  [  4] pusharglistnoret 2 ...................... <me, "doCalc()">
  [  6] objcall 332 ............................. me.debug("doCalc()")
  [  9] getparam 0 .............................. <me>
  [ 11] pusharglistnoret 1 ...................... <me>
  [ 13] objcall 863 ............................. me.calcSquare()
  [ 16] getparam 0 .............................. <me>
  [ 18] pusharglistnoret 1 ...................... <me>
  [ 20] objcall 774 ............................. me.calcHeight()
  [ 23] getparam 0 .............................. <me>
  [ 25] pusharglistnoret 1 ...................... <me>
  [ 27] objcall 551 ............................. me.calcViewPoint()
  [ 30] getparam 0 .............................. <me>
  [ 32] pusharglistnoret 1 ...................... <me>
  [ 34] objcall 864 ............................. me.calcDepth()
  [ 37] getparam 0 .............................. <me>
  [ 39] pushcons 12 ............................. <"doCalc() iDepth: ">
  [ 41] getparam 0 .............................. <me>
  [ 43] getobjprop 703 .......................... <me.iDepth>
  [ 46] joinstr ................................. <"doCalc() iDepth: " & me.iDepth>
  [ 47] pusharglistnoret 2 ...................... <me, "doCalc() iDepth: " & me.iDepth>
  [ 49] objcall 332 ............................. me.debug("doCalc() iDepth: " & me.iDepth)
  [ 52] ret
end

on calcSquare me
  [  0] getparam 0 .............................. <me>
  [  2] getglobal 133 ........................... <oIsoScene>
  [  4] getchainedprop 136 ...................... <oIsoScene.oGrid>
  [  6] getparam 0 .............................. <me>
  [  8] getchainedprop 721 ...................... <me.oPoint>
  [ 11] getobjprop 35 ........................... <me.oPoint.x>
  [ 13] getparam 0 .............................. <me>
  [ 15] getchainedprop 721 ...................... <me.oPoint>
  [ 18] getobjprop 417 .......................... <me.oPoint.z>
  [ 21] pusharglist 3 ........................... <oIsoScene.oGrid, me.oPoint.x, me.oPoint.z>
  [ 23] objcall 418 ............................. <oIsoScene.oGrid.getSquareByXZ(me.oPoint.x, me.oPoint.z)>
  [ 26] setobjprop 478 .......................... me.oSquare = oIsoScene.oGrid.getSquareByXZ(me.oPoint.x, me.oPoint.z)
  [ 29] ret
end

on calcHeight me
  [  0] getparam 0 .............................. <me>
  [  2] getchainedprop 721 ...................... <me.oPoint>
  [  5] getparam 0 .............................. <me>
  [  7] getchainedprop 478 ...................... <me.oSquare>
  [ 10] getparam 0 .............................. <me>
  [ 12] getchainedprop 721 ...................... <me.oPoint>
  [ 15] getobjprop 35 ........................... <me.oPoint.x>
  [ 17] getparam 0 .............................. <me>
  [ 19] getchainedprop 721 ...................... <me.oPoint>
  [ 22] getobjprop 417 .......................... <me.oPoint.z>
  [ 25] pusharglist 3 ........................... <me.oSquare, me.oPoint.x, me.oPoint.z>
  [ 27] objcall 774 ............................. <me.oSquare.calcHeight(me.oPoint.x, me.oPoint.z)>
  [ 30] setobjprop 36 ........................... me.oPoint.y = me.oSquare.calcHeight(me.oPoint.x, me.oPoint.z)
  [ 32] ret
end

on calcViewPoint me
  [  0] getglobal 133 ........................... <oIsoScene>
  [  2] getparam 0 .............................. <me>
  [  4] getobjprop 721 .......................... <me.oPoint>
  [  7] pusharglist 2 ........................... <oIsoScene, me.oPoint>
  [  9] objcall 323 ............................. <oIsoScene.calcGridToViewPoint(me.oPoint)>
  [ 12] setlocal 0 .............................. o2dPoint = oIsoScene.calcGridToViewPoint(me.oPoint)
  [ 14] getparam 0 .............................. <me>
  [ 16] getlocal 0 .............................. <o2dPoint>
  [ 18] getparam 0 .............................. <me>
  [ 20] getobjprop 868 .......................... <me.oRegistrationPoint>
  [ 23] sub ..................................... <o2dPoint - me.oRegistrationPoint>
  [ 24] setobjprop 545 .......................... me.oViewPoint = o2dPoint - me.oRegistrationPoint
  [ 27] ret
end

on calcDepth me
  [  0] getparam 0 .............................. <me>
  [  2] pushcons 13 ............................. <"calcDepth()">
  [  4] pusharglistnoret 2 ...................... <me, "calcDepth()">
  [  6] objcall 332 ............................. me.debug("calcDepth()")
  [  9] getparam 0 .............................. <me>
  [ 11] getparam 0 .............................. <me>
  [ 13] getchainedprop 478 ...................... <me.oSquare>
  [ 16] getparam 0 .............................. <me>
  [ 18] getobjprop 801 .......................... <me.iLayer>
  [ 21] pusharglist 2 ........................... <me.oSquare, me.iLayer>
  [ 23] objcall 779 ............................. <me.oSquare.getDepthByLayer(me.iLayer)>
  [ 26] setobjprop 703 .......................... me.iDepth = me.oSquare.getDepthByLayer(me.iLayer)
  [ 29] getparam 0 .............................. <me>
  [ 31] getparam 0 .............................. <me>
  [ 33] getchainedprop 478 ...................... <me.oSquare>
  [ 36] pushcons 14 ............................. <"av">
  [ 38] pushzero ................................ <0>
  [ 39] pusharglist 3 ........................... <me.oSquare, "av", 0>
  [ 41] objcall 701 ............................. <me.oSquare.getDepthFromMap("av", 0)>
  [ 44] setobjprop 703 .......................... me.iDepth = me.oSquare.getDepthFromMap("av", 0)
  [ 47] ret
end

on display me
  [  0] getparam 0 .............................. <me>
  [  2] getobjprop 866 .......................... <me.bLoaded>
  [  5] not ..................................... <not me.bLoaded>
  [  6] jmpifz [ 13] ............................ if not me.bLoaded then
  [  9] pusharglistnoret 0 ...................... <>
  [ 11] extcall 52 .............................. return 
  [ 13] getparam 0 .............................. <me>
  [ 15] pushcons 15 ............................. <"display() iDepth: ">
  [ 17] getparam 0 .............................. <me>
  [ 19] getobjprop 703 .......................... <me.iDepth>
  [ 22] joinstr ................................. <"display() iDepth: " & me.iDepth>
  [ 23] pusharglistnoret 2 ...................... <me, "display() iDepth: " & me.iDepth>
  [ 25] objcall 332 ............................. me.debug("display() iDepth: " & me.iDepth)
  [ 28] getparam 0 .............................. <me>
  [ 30] getchainedprop 705 ...................... <me.oSprite>
  [ 33] getparam 0 .............................. <me>
  [ 35] getchainedprop 705 ...................... <me.oSprite>
  [ 38] getchainedprop 30 ....................... <me.oSprite.member>
  [ 40] getobjprop 141 .......................... <me.oSprite.member.width>
  [ 42] getparam 0 .............................. <me>
  [ 44] getobjprop 867 .......................... <me.iScale>
  [ 47] pushcons 16 ............................. <0.01>
  [ 49] mul ..................................... <me.iScale * 0.01>
  [ 50] mul ..................................... <me.oSprite.member.width * (me.iScale * 0.01)>
  [ 51] setobjprop 141 .......................... me.oSprite.width = me.oSprite.member.width * (me.iScale * 0.01)
  [ 53] getparam 0 .............................. <me>
  [ 55] getchainedprop 705 ...................... <me.oSprite>
  [ 58] getparam 0 .............................. <me>
  [ 60] getchainedprop 705 ...................... <me.oSprite>
  [ 63] getchainedprop 30 ....................... <me.oSprite.member>
  [ 65] getobjprop 142 .......................... <me.oSprite.member.height>
  [ 67] getparam 0 .............................. <me>
  [ 69] getobjprop 867 .......................... <me.iScale>
  [ 72] pushcons 16 ............................. <0.01>
  [ 74] mul ..................................... <me.iScale * 0.01>
  [ 75] mul ..................................... <me.oSprite.member.height * (me.iScale * 0.01)>
  [ 76] setobjprop 142 .......................... me.oSprite.height = me.oSprite.member.height * (me.iScale * 0.01)
  [ 78] getparam 0 .............................. <me>
  [ 80] getobjprop 886 .......................... <me.oViewPointOverride>
  [ 83] pusharglist 0 ........................... <>
  [ 85] extcall 238 ............................. <VOID>
  [ 87] nteq .................................... <me.oViewPointOverride <> VOID>
  [ 88] jmpifz [122] ............................ if me.oViewPointOverride <> VOID then / else
  [ 91] getparam 0 .............................. <me>
  [ 93] getchainedprop 705 ...................... <me.oSprite>
  [ 96] getparam 0 .............................. <me>
  [ 98] getchainedprop 886 ...................... <me.oViewPointOverride>
  [101] getobjprop 143 .......................... <me.oViewPointOverride.locH>
  [103] setobjprop 143 .......................... me.oSprite.locH = me.oViewPointOverride.locH
  [105] getparam 0 .............................. <me>
  [107] getchainedprop 705 ...................... <me.oSprite>
  [110] getparam 0 .............................. <me>
  [112] getchainedprop 886 ...................... <me.oViewPointOverride>
  [115] getobjprop 122 .......................... <me.oViewPointOverride.locV>
  [117] setobjprop 122 .......................... me.oSprite.locV = me.oViewPointOverride.locV
  [119] jmp [156]
  [122] getparam 0 .............................. <me>
  [124] getchainedprop 705 ...................... <me.oSprite>
  [127] getparam 0 .............................. <me>
  [129] getchainedprop 545 ...................... <me.oViewPoint>
  [132] getobjprop 143 .......................... <me.oViewPoint.locH>
  [134] setobjprop 143 .......................... me.oSprite.locH = me.oViewPoint.locH
  [136] getparam 0 .............................. <me>
  [138] getchainedprop 705 ...................... <me.oSprite>
  [141] getparam 0 .............................. <me>
  [143] getchainedprop 545 ...................... <me.oViewPoint>
  [146] getobjprop 122 .......................... <me.oViewPoint.locV>
  [148] getparam 0 .............................. <me>
  [150] getobjprop 511 .......................... <me.iHeightOffset>
  [153] add ..................................... <me.oViewPoint.locV + me.iHeightOffset>
  [154] setobjprop 122 .......................... me.oSprite.locV = me.oViewPoint.locV + me.iHeightOffset
  [156] getparam 0 .............................. <me>
  [158] getchainedprop 705 ...................... <me.oSprite>
  [161] getparam 0 .............................. <me>
  [163] getobjprop 703 .......................... <me.iDepth>
  [166] setobjprop 138 .......................... me.oSprite.locZ = me.iDepth
  [168] getparam 0 .............................. <me>
  [170] getchainedprop 705 ...................... <me.oSprite>
  [173] pushint8 1 .............................. <1>
  [175] setobjprop 695 .......................... me.oSprite.visible = 1
  [178] ret
end

on debug me, sMessage, bForce
  [  0] getparam 0 .............................. <me>
  [  2] getobjprop 338 .......................... <me.bDebug>
  [  5] getparam 2 .............................. <bForce>
  [  7] or ...................................... <me.bDebug or bForce>
  [  8] jmpifz [ 28] ............................ if me.bDebug or bForce then
  [ 11] pushcons 17 ............................. <"IsoSprite::ID: ">
  [ 13] getparam 0 .............................. <me>
  [ 15] getobjprop 195 .......................... <me.sID>
  [ 17] joinstr ................................. <"IsoSprite::ID: " & me.sID>
  [ 18] pushcons 18 ............................. <": ">
  [ 20] joinstr ................................. <"IsoSprite::ID: " & me.sID & ": ">
  [ 21] getparam 1 .............................. <sMessage>
  [ 23] joinstr ................................. <"IsoSprite::ID: " & me.sID & ": " & sMessage>
  [ 24] pusharglistnoret 1 ...................... <"IsoSprite::ID: " & me.sID & ": " & sMessage>
  [ 26] extcall 168 ............................. put "IsoSprite::ID: " & me.sID & ": " & sMessage
  [ 28] ret
end

on toString me
  [  0] pushcons 19 ............................. <"[IsoSprite] iDepth: ">
  [  2] getparam 0 .............................. <me>
  [  4] getobjprop 703 .......................... <me.iDepth>
  [  7] joinstr ................................. <"[IsoSprite] iDepth: " & me.iDepth>
  [  8] pusharglistnoret 1 ...................... <"[IsoSprite] iDepth: " & me.iDepth>
  [ 10] extcall 52 .............................. return "[IsoSprite] iDepth: " & me.iDepth
  [ 12] ret
end

on setHeightOffset me, _iHeightOffset
  [  0] getparam 0 .............................. <me>
  [  2] getparam 1 .............................. <_iHeightOffset>
  [  4] setobjprop 511 .......................... me.iHeightOffset = _iHeightOffset
  [  7] ret
end

on getHeightOffset me
  [  0] getparam 0 .............................. <me>
  [  2] getobjprop 511 .......................... <me.iHeightOffset>
  [  5] pusharglistnoret 1 ...................... <me.iHeightOffset>
  [  7] extcall 52 .............................. return me.iHeightOffset
  [  9] ret
end
